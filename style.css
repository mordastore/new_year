@import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@500&family=Sofia+Sans&display=swap');

* { box-sizing: border-box; }

body, html {
  margin: 0;
  padding: 0;
  font-family: 'Quicksand', sans-serif;
  background: linear-gradient(135deg, #ffd1e3, #ffe3f3);
  height: 100vh;
  overflow-x: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

.wrapper {
  text-align: center;
  width: 100%;
  max-width: 500px;
  padding: 20px;
  position: relative;
  z-index: 5;
}

#cover { display: flex; flex-direction: column; align-items: center; justify-content: center; }

.cover-image {
  width: 100%;
  border-radius: 20px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.15);
  margin-bottom: 20px;
}

#openBtn {
  padding: 15px 25px;
  background-color: #ff94b6;
  color: white;
  border: none;
  border-radius: 20px;
  font-size: 18px;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  transition: background 0.3s ease;
  z-index: 10;
  position: relative;
}
#openBtn:hover { background-color: #f871a0; }

/* ===== сертификат (база) ===== */
.certificate {
  display: none;
  background: #fffaf5;
  border: 4px dashed #ffb3c6;
  border-radius: 25px;
  padding: 30px;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
  margin-top: 20px;
  font-family: 'Sofia Sans', cursive;
}
.certificate.show { display: block; animation: fadeZoom 0.6s ease forwards; }
@keyframes fadeZoom { from {opacity:0; transform:scale(0.9)} to {opacity:1; transform:scale(1)} }

.certificate h1 {
  font-size: 36px;
  color: #ff69b4;
  margin: 0 0 10px;
  animation: glow 2s ease-in-out infinite alternate;
}
@keyframes glow {
  from { text-shadow: 0 0 5px #ffb6c1, 0 0 10px #ff69b4, 0 0 20px #ff1493; }
  to   { text-shadow: 0 0 10px #ffc0cb, 0 0 20px #ff69b4, 0 0 30px #ff69b4; }
}
.certificate h2 { font-size: 28px; color: #ed8ec1; margin-bottom: 20px; }
.certificate p { font-size: 20px; margin: 10px 0; }

.certificate .small-note { font-size: 14px; color: #888; margin-top: 30px; }
.certificate .small-note a { color: #ff69b4; text-decoration: none; border-bottom: 1px dotted #ff69b4; }
.certificate .small-note a:hover { text-decoration: underline; }

/* Эмодзи-анимация */
.emoji-container, .glow-background { pointer-events: none; }
.emoji-container {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  overflow: hidden; z-index: 1;
}
.emoji { position: absolute; font-size: 24px; animation: fall linear infinite; opacity: 0.9; }
@keyframes fall {
  0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
  100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
}

/* Свечение */
.glow-background {
  position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; overflow: hidden; z-index: 0;
}
.glow-circle {
  position: absolute; width: 300px; height: 300px; border-radius: 50%;
  background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 70%);
  animation: moveGlow 20s linear infinite; opacity: 0.4; filter: blur(60px);
}
.glow-circle:nth-child(1){ top:10%; left:20%; animation-delay: 0s; }
.glow-circle:nth-child(2){ top:50%; left:70%; animation-delay: 5s; }
.glow-circle:nth-child(3){ top:80%; left:30%; animation-delay:10s; }
@keyframes moveGlow {
  0%{ transform: scale(1) translateY(0) rotate(0) }
  50%{ transform: scale(1.2) translateY(-20px) rotate(180deg) }
  100%{ transform: scale(1) translateY(0) rotate(360deg) }
}

/* Конфетти */
#confetti-canvas {
  position: fixed; pointer-events: none; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 999;
}

/* Блики */
.gloss-effect { position: fixed; top:-50%; left:-50%; width:200%; height:200%;
  background: linear-gradient(120deg, rgba(255,255,255,0) 40%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 60%);
  animation: glossMove 8s linear infinite; pointer-events: none; z-index: 3; mix-blend-mode: screen;
}
@keyframes glossMove { 0%{ transform: translate(-100%,-100%) } 100%{ transform: translate(100%,100%) } }
.gloss-wrapper { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 3; overflow: hidden; }
.gloss-effect { position: absolute; top:-50%; left:-50%; width:200%; height:200%; filter: blur(8px); }
.gloss-effect.fast { animation: glossMoveFast 6s linear infinite; opacity: .6; }
.gloss-effect.slow { animation: glossMoveSlow 14s linear infinite; opacity: .3; }
@keyframes glossMoveFast { 0%{ transform: translate(-100%,-100%) } 100%{ transform: translate(100%,100%) } }
@keyframes glossMoveSlow { 0%{ transform: translate(-150%,-150%) scale(1.2) } 100%{ transform: translate(150%,150%) scale(1.2) } }

/* Кнопка */
.cta-button {
  display: inline-block; margin-top: 25px; padding: 12px 24px;
  background-color: #ff94b6; color: white; font-size: 18px; font-weight: 500;
  text-decoration: none; border-radius: 20px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  transition: background .3s ease, transform .2s ease;
}
.cta-button:hover { background-color: #f871a0; transform: scale(1.03); }

/* =========================================================
   НОВОГОДНИЙ СКИН ДЛЯ ВСЕГО БЛОКА СЕРТИФИКАТА
   (включается классом .ny на #cert из script.js)
   ========================================================= */
:root{
  --ms-terracotta:#b44933; --ms-terracotta-d:#9e3d29;
  --ms-cream:#f6eedc; --ms-pine:#2f5d45; --ms-gold:#e3b56b;
}

#cert.ny{
  background: linear-gradient(to bottom, var(--ms-terracotta) 0%, var(--ms-terracotta-d) 100%) !important;
  color: var(--ms-cream) !important;
  border-radius: 22px !important;
  border: none !important;              /* убираем розовую пунктирную рамку */
  box-shadow: 0 30px 60px rgba(180,73,51,.18) !important;
  position: relative; overflow: hidden;
}

/* снежная крупа поверх фона */
#cert.ny::before{
  content:""; position:absolute; inset:0; z-index:1; pointer-events:none;
  background:
    radial-gradient(circle at 10% 15%, rgba(255,255,255,.9) 0 1.5px, transparent 2px) 0 0/120px 120px,
    radial-gradient(circle at 60% 25%, rgba(255,255,255,.85) 0 1.2px, transparent 2px) 0 0/140px 140px,
    radial-gradient(circle at 30% 60%, rgba(255,255,255,.8) 0 1px, transparent 2px) 0 0/100px 100px,
    radial-gradient(circle at 85% 70%, rgba(255,255,255,.8) 0 1.4px, transparent 2px) 0 0/160px 160px;
}

/* заголовки и ссылки в тёплой гамме */
#cert.ny h1, #cert.ny h2 { color: var(--ms-cream) !important; text-shadow: 0 1px 0 rgba(0,0,0,.08); }
#cert.ny .small-note a { color: var(--ms-gold) !important; border-bottom-color: var(--ms-gold) !important; }

/* кнопка зелёно-золотая */
#cert.ny .cta-button{
  background: linear-gradient(180deg, var(--ms-pine), #204636) !important;
  color:#fff !important; border:1px solid #1f4e3a !important;
  box-shadow: 0 8px 18px rgba(47,93,69,.35), inset 0 0 0 1px rgba(255,255,255,.08) !important;
}
#cert.ny .cta-button:hover{
  transform: translateY(-1px);
  box-shadow: 0 12px 24px rgba(47,93,69,.45), inset 0 0 0 1px rgba(255,255,255,.12);
}

/* снежинка возле номера */
#cert.ny .cert-number2{ position:relative; color: var(--ms-gold) }
#cert.ny .cert-number2::after{
  content:"❄️"; position:absolute; right:-1.4em; top:-.3em;
  animation: sparkle 1.6s ease-in-out infinite;
}
@keyframes sparkle{
  0%,100%{opacity:.15; transform:scale(.85) rotate(0)}
  50%{opacity:1; transform:scale(1.15) rotate(18deg)}
}

/* фон-гирлянда под контентом */
.xmas-garland-bg{ position:absolute; top:0; left:0; right:0; height:140px; z-index:0; opacity:.9; pointer-events:none; }
.xmas-garland-bg svg{ width:100%; height:100%; display:block }

/* снег над сертификатом */
#ms-snow{ position:absolute; inset:0; z-index:1; pointer-events:none }
@media (prefers-reduced-motion: reduce){ #ms-snow{ display:none } }

/* когда сертификат открыт — отключаем лапки-эмодзи на заднем плане */
#cert.ny ~ .emoji-container { display: none !important; }
