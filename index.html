<!DOCTYPE html>
<!-- morda.store — cozy xmas skin (только для блока #cert) -->
<style>
  /* палитра под реф */
  :root{
    --ms-terracotta:#b44933;
    --ms-terracotta-d:#9e3d29;
    --ms-cream:#f6eedc;
    --ms-pine:#2f5d45;
    --ms-gold:#e3b56b;
    --ms-ink:#2a1f1d;
  }

  /* фон и снежинки только внутри сертификата */
  #cert.xmas {
    position: relative;
    overflow: hidden;
    background:
      radial-gradient(ellipse at 30% -20%, rgba(255,255,255,.18) 0 40%, transparent 41%) ,
      radial-gradient(ellipse at 80% -30%, rgba(255,255,255,.12) 0 40%, transparent 41%) ,
      var(--ms-terracotta);
    color: var(--ms-cream);
    border-radius: 22px;
    box-shadow: 0 30px 60px rgba(180,73,51,.18);
  }
  /* «снеговая крупа» */
  #cert.xmas:before{
    content:"";
    position:absolute; inset:0; pointer-events:none;
    background:
      radial-gradient(circle at 10% 15%, rgba(255,255,255,.9) 0 1.5px, transparent 2px) 0 0/120px 120px,
      radial-gradient(circle at 60% 25%, rgba(255,255,255,.85) 0 1.2px, transparent 2px) 0 0/140px 140px,
      radial-gradient(circle at 30% 60%, rgba(255,255,255,.8) 0 1px, transparent 2px) 0 0/100px 100px,
      radial-gradient(circle at 85% 70%, rgba(255,255,255,.8) 0 1.4px, transparent 2px) 0 0/160px 160px;
    z-index:1;
    opacity:.9;
  }

  /* шапка-хвоя и шар */
  .xmas-garland{
    position:absolute; inset:0 0 auto 0; height:140px; z-index:2; pointer-events:none;
  }
  .xmas-garland svg{ width:100%; height:100%; display:block; }

  /* кнопка — зелёная с золотом */
  #cert.xmas .cta-button{
    background: linear-gradient(180deg, var(--ms-pine), #204636);
    color:#fff; border:1px solid #1f4e3a;
    box-shadow: 0 8px 18px rgba(47,93,69,.35), inset 0 0 0 1px rgba(255,255,255,.08);
  }
  #cert.xmas .cta-button:hover{
    transform: translateY(-1px);
    box-shadow: 0 12px 24px rgba(47,93,69,.45), inset 0 0 0 1px rgba(255,255,255,.12);
  }

  /* подправим заголовки на «тёплые» */
  #cert.xmas h1, #cert.xmas h2{
    color: var(--ms-cream);
    text-shadow: 0 1px 0 rgba(0,0,0,.08);
  }
  #cert.xmas a{ color: var(--ms-gold); }

  /* маленькая «искринка» на номере */
  #cert.xmas .cert-number2{ position:relative; color: var(--ms-gold); }
  #cert.xmas .cert-number2::after{
    content:"✨"; position:absolute; right:-1.2em; top:-.3em;
    animation: sparkle 1.6s ease-in-out infinite;
  }
  @keyframes sparkle{
    0%,100%{opacity:.15; transform:scale(.85) rotate(0deg)}
    50%{opacity:1; transform:scale(1.15) rotate(18deg)}
  }

  /* деликатный снег на canvas — только поверх сертификата */
  #ms-snow{ position:absolute; inset:0; z-index:1; pointer-events:none; display:block; }
  @media (prefers-reduced-motion: reduce){ #ms-snow{ display:none; } }
</style>

<!-- еловая гирлянда + шар (inline SVG), висит ТОЛЬКО над #cert -->
<div id="ms-xmas-decor" style="display:none">
  <div class="xmas-garland" aria-hidden="true">
    <svg viewBox="0 0 1200 180" xmlns="http://www.w3.org/2000/svg">
      <!-- ветки -->
      <g stroke="#2f5d45" stroke-width="10" stroke-linecap="round">
        <path d="M0,20 C200,60 450,40 650,70 C850,100 1050,80 1200,110" fill="none"/>
      </g>
      <g stroke="#3c7a5a" stroke-width="8" stroke-linecap="round">
        <!-- «иголки» -->
        <path d="M100,40 l-40,30 M140,45 l-36,28 M180,50 l-40,30 M220,55 l-36,28 M260,60 l-40,30
                 M580,80 l-36,28 M620,85 l-40,30 M660,90 l-36,28 M700,95 l-40,30
                 M900,110 l-36,28 M940,115 l-40,30 M980,120 l-36,28 M1020,125 l-40,30" />
      </g>
      <!-- шарик -->
      <g>
        <circle cx="120" cy="30" r="6" fill="#f6eedc"/>
        <line x1="120" y1="30" x2="120" y2="92" stroke="#f6eedc" stroke-width="3"/>
        <circle cx="120" cy="120" r="28" fill="#e05a3b" />
        <path d="M100,120 a20,20 0 0 0 40,0" fill="none" stroke="#f6eedc" stroke-width="5" />
        <path d="M108,112 h24" stroke="#f6eedc" stroke-width="5"/>
      </g>
      <!-- лёгкие снежинки поверх -->
      <g fill="#ffffff" opacity=".9">
        <circle cx="320" cy="32" r="2"/><circle cx="540" cy="22" r="2.5"/>
        <circle cx="780" cy="38" r="2"/><circle cx="1040" cy="28" r="2.5"/>
      </g>
    </svg>
  </div>
</div>

<script>
(function(){
  const cert = document.getElementById('cert');
  if(!cert) return;

  /* включаем скин */
  cert.classList.add('xmas');

  /* добавляем хвойную шапку и снег */
  const decorHost = document.getElementById('ms-xmas-decor');
  if (decorHost){
    decorHost.style.display='block';
    cert.prepend(decorHost); // помещаем внутрь сертификата
  }
  const snow = document.createElement('canvas');
  snow.id = 'ms-snow';
  cert.appendChild(snow);

  // минимальный снег только над #cert
  const ctx = snow.getContext('2d');
  let W,H,flakes=[];
  function size(){ const r = cert.getBoundingClientRect();
    snow.width = W = r.width; snow.height = H = r.height; }
  function make(n){
    flakes = Array.from({length:n}, ()=>({
      x: Math.random()*W, y: Math.random()*H,
      r: 1 + Math.random()*2.2,
      s: .3 + Math.random()*1.0,
      w: Math.random()*1.2
    }));
  }
  function draw(){
    ctx.clearRect(0,0,W,H);
    ctx.fillStyle='rgba(255,255,255,.9)';
    for(const f of flakes){
      ctx.beginPath(); ctx.arc(f.x,f.y,f.r,0,Math.PI*2); ctx.fill();
      f.y += f.s; f.x += Math.sin(f.y/28)*f.w;
      if(f.y>H){ f.y = -5; f.x = Math.random()*W; }
    }
    requestAnimationFrame(draw);
  }
  const ro = new ResizeObserver(()=>{ size(); make(Math.min(120, Math.floor((W*H)/15000))); });
  ro.observe(cert);
  size(); make(90); draw();

  /* праздничное конфетти при клике по «оформить заказ» */
  const btn = cert.querySelector('.cta-button');
  if(btn){
    btn.addEventListener('click', ()=>{
      const r = btn.getBoundingClientRect();
      confettiBurst(r.left + r.width/2, r.top + r.height/2);
    });
  }
  function confettiBurst(x,y,count=120){
    const c=document.createElement('canvas');
    c.width=innerWidth; c.height=innerHeight;
    Object.assign(c.style,{position:'fixed',inset:0,zIndex:99,pointerEvents:'none'});
    document.body.appendChild(c);
    const k=c.getContext('2d');
    const parts = Array.from({length:count}, ()=>({
      x,y,a:Math.random()*Math.PI*2,v:2+Math.random()*4,
      r:2+Math.random()*3,
      col: ['#f6eedc','#e3b56b','#2f5d45','#b44933'][Math.floor(Math.random()*4)],
      life: 70+Math.random()*30
    }));
    (function tick(){
      k.clearRect(0,0,c.width,c.height);
      parts.forEach(p=>{
        p.x+=Math.cos(p.a)*p.v; p.y+=Math.sin(p.a)*p.v+0.6; p.v*=.98; p.life--;
        k.globalAlpha=Math.max(p.life/100,0);
        k.beginPath(); k.arc(p.x,p.y,p.r,0,Math.PI*2); k.fillStyle=p.col; k.fill();
      });
      (parts.some(p=>p.life>0)) ? requestAnimationFrame(tick) : c.remove();
    })();
  }
})();
</script>
<!-- /cozy xmas skin -->
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>это Ваш подарок в morda.store</title>
  <link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->
<div class="wrapper">

  <!-- ОБЛОЖКА -->
  <div id="cover">
    <img src="https://i.postimg.cc/HsM8gmZ8/DSC04402-Dx-O.jpg" alt="Подарок MORDA" class="cover-image">
    <button id="openBtn">открой свой подарок</button>
  </div>

  <!-- СЕРТИФИКАТ -->
  <div class="certificate" id="cert">
    <h1>morda.store</h1>
    <h2>подарочный сертификат</h2>
    <p>для: <strong>модели крыски, которая закрылась в моем кардигане в офисе</strong></p>
    <p>от: <strong>спонсор одобряет</strong></p>
    <p>на: <strong>запечатлении частички близкого и настоящего друга</strong></p>
    <p class="message"></p>
   
    
    <p></p>
      <a href="https://t.me/fairy538" target="_blank" class="cta-button">оформить заказ✨ </a>
    <p class="small-note">
      добро пожаловать в: 
      <a href="https://t.me/jul_lullaby" target="_blank">morda.store</a>
      <p class="small-note2">
  номер сертификаmа: <strong class="cert-number2">1979</strong>
</p>
            
    </p>
  </div>

  <!-- ЭФФЕКТЫ -->
  <div class="emoji-container" aria-hidden="true"></div>
  <div class="glow-background" aria-hidden="true">
    <div class="glow-circle"></div>
    <div class="glow-circle"></div>
    <div class="glow-circle"></div>
  </div>
  <canvas id="confetti-canvas"></canvas>

  <div class="gloss-effect" aria-hidden="true"></div>

  <div class="gloss-wrapper" aria-hidden="true">
  <div class="gloss-effect fast"></div>
  <div class="gloss-effect slow"></div>
</div>

  
</div>
<!-- partial -->
  <script  src="./script.js"></script>

</body>
</html>
